# 规则分类说明

> 区分通用规则和可选规则，明确哪些规则适用于所有项目，哪些规则是可选的

## 📋 规则分类

### ✅ 通用规则（Common Project Rules）

**位置**：`common-project-rules/` 目录

**特点**：
- **适用于所有项目类型**（Android、Flutter、Python、PHP、React、Vue 等）
- **自动导入**：导入规则时会自动包含这些文件
- **alwaysApply: true**：所有规则都设置了 `alwaysApply: true`

**包含的规则文件**：

| 文件名 | 规则说明 | 适用场景 |
|--------|---------|---------|
| `user-base-rule.mdc` | 用户基础规则 | 定义用户个人偏好、沟通风格、开发偏好等 |
| `hardware-limitations.mdc` | 硬件限制规则 | 避免 GPU/高 CPU 负载导致电脑闪退 |
| `documentation-format.mdc` | 文档格式规范 | 确保文档格式统一，避免格式警告 |
| `ui-design-reconstruction.mdc` | UI 设计图还原规则 | 蓝湖等设计图的一比一像素还原 |
| `batch-file-operations.mdc` | 批量文件操作优化 | 批量处理文件时使用脚本提高效率 |
| `git-automation.mdc` | Git 自动化规则 | 自动添加文件到 Git |

**为什么是通用的？**
- 这些规则不依赖特定的项目类型或技术栈
- 适用于所有开发场景（如文档格式、Git 操作、硬件限制等）
- 是基础性的开发规范和工具规则

---

### 🔧 规则管理文件（Rules Management）

**位置**：`rules-management/` 目录

**特点**：
- **不导入到用户项目**：这些文件只用于 AI 分析如何导入规则
- **系统内部使用**：用于规则导入、冲突管理、GitHub 同步等系统功能
- **用户不可见**：用户项目的 `.cursor/rules/` 目录中不会包含这些文件

**包含的规则文件**：

| 文件名 | 规则说明 | 用途 |
|--------|---------|------|
| `auto-import-rules.mdc` | 规则自动导入规则 | 定义规则自动导入的完整流程 |
| `project-rules-auto-management.mdc` | 项目规则管理规则 | 项目类型检测和规则管理 |
| `rules-conflict-management.mdc` | 规则冲突管理 | 管理规则文件冲突检测和处理 |
| `github-rules-sync.mdc` | GitHub 规则同步 | 从 GitHub 拉取规则文件的流程 |

**为什么单独分类？**
- 这些规则是系统功能规则，不是项目开发规则
- 对用户项目开发没有帮助，只用于 AI 分析如何导入规则
- 不应该导入到用户项目中，避免混淆

---

### 🔧 可选规则（Optional Project Rules）

**位置**：`optional-project-rules/` 目录

**特点**：
- **按需使用**：不是所有项目都需要这些规则
- **特定场景**：适用于特定的开发工作流或需求
- **用户选择**：用户可以根据项目需求选择是否导入

**包含的规则文件**：

| 文件名 | 规则说明 | 适用场景 |
|--------|---------|---------|
| `dev-log-auto-management.mdc` | 开发日志自动管理规则 | 需要自动管理开发日志、任务循环执行的项目 |

**为什么是可选的？**
- 不是所有项目都需要开发日志自动管理
- 适用于需要严格任务追踪和自动循环执行的项目
- 用户可以根据项目需求选择是否启用

---

## 🔍 命名建议

### 命名
- `optional-project-rules/` - 使用 "optional"（可选的）

**说明**：
1. **语义准确**：`optional` 明确表示"可选的"，表示这些规则不是必需的
2. **符合英文习惯**：在软件开发中，`optional` 是更常用的术语
3. **避免歧义**：`optional` 清楚地表达"不是必需的"这个含义

---

## 📊 规则导入策略

### 自动导入（通用规则）

当用户执行"导入规则"时，**自动导入**以下规则：

```
common-project-rules/
├── user-base-rule.mdc                    ✅ 自动导入到用户项目
├── hardware-limitations.mdc              ✅ 自动导入到用户项目
├── documentation-format.mdc              ✅ 自动导入到用户项目
├── ui-design-reconstruction.mdc          ✅ 自动导入到用户项目
├── batch-file-operations.mdc             ✅ 自动导入到用户项目
└── git-automation.mdc                    ✅ 自动导入到用户项目

rules-management/
├── auto-import-rules.mdc                 ❌ 不导入到用户项目（只用于 AI 分析）
├── project-rules-auto-management.mdc     ❌ 不导入到用户项目（只用于 AI 分析）
├── rules-conflict-management.mdc        ❌ 不导入到用户项目（只用于 AI 分析）
└── github-rules-sync.mdc                ❌ 不导入到用户项目（只用于 AI 分析）
```

### 可选导入（可选规则）

可选规则**不会自动导入**，需要用户明确要求：

```
optional-project-rules/
└── dev-log-auto-management.mdc           ⚠️ 需要用户明确要求才导入
```

**导入方式**：
- 用户明确要求："导入开发日志管理规则"
- 或用户询问："有哪些可选规则？"
- 或提供规则列表让用户选择

---

## 🎯 针对所有项目的建议

### 通用规则（必须）

所有项目都应该包含通用规则，因为：
- 提供基础的开发规范（文档格式、Git 操作等）
- 保护硬件安全（避免高负载任务）
- 提供工具支持（规则导入、冲突管理等）

### 可选规则（按需）

可选规则根据项目需求选择：
- **开发日志管理**：适用于需要严格任务追踪的项目
- 未来可能添加更多可选规则（如代码审查规则、测试规则等）

---

## 📝 总结

### 分类标准

| 分类 | 标准 | 导入方式 |
|------|------|---------|
| **通用规则** | 适用于所有项目类型和场景 | 自动导入 |
| **可选规则** | 适用于特定场景或工作流 | 用户选择导入 |

### 命名

- ✅ **已重命名**：`optional-project-rules/`（已完成）

### 下一步行动

1. ✅ **已重命名**：`option-project-rules/` → `optional-project-rules/`（已完成）
2. ✅ **已更新导入逻辑**：确保可选规则不会自动导入（已完成）
3. ✅ **文档说明**：已在本文档中说明通用规则和可选规则的区别（已完成）

---

**最后更新**：2024-12-19

